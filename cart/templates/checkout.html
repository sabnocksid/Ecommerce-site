{% extends 'home.html' %}

{% block content %}
<form method="POST" action="{% url 'cart:create_order' %}" class="mt-4">
  {% csrf_token %}
  <div class="form-group">
    <label for="shipping_address">Shipping Address:</label>
    <textarea name="shipping_address" id="shipping_address" class="form-control" rows="4" required></textarea>
    <small class="form-text text-muted">You can select a location or type it manually.</small>
</div>

<div class="form-group">
    <label for="location_select">Suggested Locations:</label>
    <select id="location_select" class="form-control" onchange="populateAddress()" required>
        <option value="" disabled selected>Select a location</option>
        <option value="Kathmandu - Thamel">Kathmandu - Thamel</option>
        <option value="Kathmandu - Boudhanath">Kathmandu - Boudhanath</option>
        <option value="Bhaktapur - Bhaktapur Durbar Square">Bhaktapur - Bhaktapur Durbar Square</option>
        <option value="Bhaktapur - Changunarayan">Bhaktapur - Changunarayan</option>
        <option value="Lalitpur - Patan Durbar Square">Lalitpur - Patan Durbar Square</option>
        <option value="Lalitpur - Lagankhel">Lalitpur - Lagankhel</option>
    </select>
</div>

  <div class="form-group">
      <label for="payment_method">Payment Method:</label>
      <select name="payment_method" id="payment_method" class="form-control" required>
          <option value="" disabled selected>Select a payment method</option>
          <option value="Credit Card">Credit Card</option>
          <option value="PayPal">PayPal</option>
          <option value="Cash on Delivery">Cash on Delivery</option>
      </select>
  </div>

  <button type="submit" class="btn btn-primary btn-block mt-3">Place Order</button>
</form>

<script>
  function populateAddress() {
      var select = document.getElementById("location_select");
      var textarea = document.getElementById("shipping_address");
      textarea.value = select.value;
  }
</script>
{% endblock %}
